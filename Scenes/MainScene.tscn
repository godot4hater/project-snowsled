[gd_scene load_steps=21 format=3 uid="uid://bi67ox6a65cji"]

[ext_resource type="PackedScene" uid="uid://mwj1qdw7y8b8" path="res://Scenes/shuttle_status_panel.tscn" id="1_q68mp"]
[ext_resource type="Script" uid="uid://bpe0d1qxhxvai" path="res://Scripts/camera.gd" id="2_q68mp"]
[ext_resource type="PackedScene" uid="uid://b1pacot6yfvto" path="res://assets/blender/Player.blend" id="3_0iob3"]
[ext_resource type="AudioStream" uid="uid://bwqdo3qkbjhyn" path="res://Sounds/radar.wav" id="3_f140w"]
[ext_resource type="Texture2D" uid="uid://bdrhcrtilnusg" path="res://Sprites/cursor.png" id="4_0iob3"]
[ext_resource type="Script" uid="uid://bvupbh3q546ir" path="res://hand_ik.gd" id="4_4b75m"]
[ext_resource type="AudioStream" uid="uid://cf7t5lr8a1yy0" path="res://Sounds/podidlesound.wav" id="5_4b75m"]
[ext_resource type="Script" uid="uid://bxm3hdlgogvpq" path="res://Scripts/mine.gd" id="6_8ju71"]
[ext_resource type="PackedScene" uid="uid://fhethyomc7m5" path="res://assets/blender/PilotV2.blend" id="6_q68mp"]

[sub_resource type="ViewportTexture" id="ViewportTexture_x4av3"]
viewport_path = NodePath("EscapepodMesh/DiagnosticPanel/SubViewport")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_x4av3"]
resource_local_to_scene = true
albedo_texture = SubResource("ViewportTexture_x4av3")
metallic_specular = 0.0
emission_enabled = true
emission = Color(0, 1, 0, 1)
emission_energy_multiplier = 9.5
emission_operator = 1
emission_texture = SubResource("ViewportTexture_x4av3")
uv1_scale = Vector3(-1, 1, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_q68mp"]
cull_mode = 2
vertex_color_use_as_albedo = true

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_x4av3"]

[sub_resource type="BoxShape3D" id="BoxShape3D_a814b"]
size = Vector3(0.171326, 0.196838, 0.144817)

[sub_resource type="BoxShape3D" id="BoxShape3D_5crlr"]
size = Vector3(0.11084, 0.159912, 0.166679)

[sub_resource type="BoxShape3D" id="BoxShape3D_hbc2u"]
size = Vector3(0.13678, 0.204346, 0.139709)

[sub_resource type="BoxShape3D" id="BoxShape3D_torvr"]
size = Vector3(0.238342, 0.211517, 0.171326)

[sub_resource type="BoxShape3D" id="BoxShape3D_8xkvn"]
size = Vector3(4.922, 3.94678, 7.69678)

[sub_resource type="SphereMesh" id="SphereMesh_rpqi1"]

[sub_resource type="SphereShape3D" id="SphereShape3D_uxrcv"]
radius = 2.71227

[node name="World" type="Node3D"]

[node name="EscapepodMesh" type="Node3D" parent="."]

[node name="CSGBox3D" type="CSGBox3D" parent="EscapepodMesh"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.557495, 0.907944)
flip_faces = true
size = Vector3(1.18335, 1.14526, 1.82108)

[node name="CSGPolygon3D" type="CSGPolygon3D" parent="EscapepodMesh/CSGBox3D"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 0.620275, 0, -0.71642)
flip_faces = true
polygon = PackedVector2Array(-0.302862, 0.573145, 0.754587, 0.263085, 0.771545, -0.409587, 0.198638, -0.574219)
depth = 1.21

[node name="DiagnosticPanel" type="CSGBox3D" parent="EscapepodMesh"]
transform = Transform3D(0.991996, -1.99434e-08, 0.126268, -0.126268, -4.33384e-08, 0.991996, 0, -1, -4.37114e-08, -0.534877, 0.858344, 1.45293)
size = Vector3(0.0372468, 0.635563, 0.472182)
material = SubResource("StandardMaterial3D_x4av3")

[node name="SubViewport" type="SubViewport" parent="EscapepodMesh/DiagnosticPanel"]
handle_input_locally = false
size = Vector2i(320, 256)
render_target_update_mode = 4

[node name="ShuttleStatusPanel" parent="EscapepodMesh/DiagnosticPanel/SubViewport" instance=ExtResource("1_q68mp")]

[node name="OmniLight3D" type="OmniLight3D" parent="EscapepodMesh/DiagnosticPanel"]
transform = Transform3D(0.932305, -0.361673, 4.47035e-08, 0.361673, 0.932305, -2.09565e-08, -1.33427e-08, 2.75278e-08, 1, 0.138979, -0.0209942, -0.0371203)
light_color = Color(0.353333, 1, 0, 1)
shadow_enabled = true
omni_attenuation = 0.45

[node name="PilotV2" parent="EscapepodMesh" instance=ExtResource("6_q68mp")]
transform = Transform3D(-1.25, -5.50056e-09, 1.88665e-07, 4.44089e-16, 1.24947, 0.0364286, -1.88745e-07, 0.0364286, -1.24947, 1.4219e-07, 0.0128613, 0.375351)

[node name="Badge" parent="EscapepodMesh/PilotV2/Armature/Skeleton3D" index="0"]
surface_material_override/0 = SubResource("StandardMaterial3D_q68mp")

[node name="Body" parent="EscapepodMesh/PilotV2/Armature/Skeleton3D" index="1"]
surface_material_override/0 = SubResource("StandardMaterial3D_q68mp")

[node name="Ears" parent="EscapepodMesh/PilotV2/Armature/Skeleton3D" index="2"]
surface_material_override/0 = SubResource("StandardMaterial3D_q68mp")

[node name="FaceDetail" parent="EscapepodMesh/PilotV2/Armature/Skeleton3D" index="3"]
surface_material_override/0 = SubResource("StandardMaterial3D_q68mp")

[node name="Head" parent="EscapepodMesh/PilotV2/Armature/Skeleton3D" index="4"]
surface_material_override/0 = SubResource("StandardMaterial3D_q68mp")

[node name="Tail" parent="EscapepodMesh/PilotV2/Armature/Skeleton3D" index="5"]
surface_material_override/0 = SubResource("StandardMaterial3D_q68mp")

[node name="BoneAttachment3D" type="BoneAttachment3D" parent="EscapepodMesh/PilotV2/Armature/Skeleton3D" index="6"]
transform = Transform3D(1, 3.55271e-15, 2.38419e-07, 9.51958e-08, 0.916829, -0.39928, -2.18589e-07, 0.39928, 0.916829, -9.72265e-18, 1.0357, -0.0437869)
bone_name = "spine1"
bone_idx = 1

[node name="AnimationPlayer" parent="EscapepodMesh/PilotV2" index="1"]
autoplay = "prone"

[node name="InterestPoint" type="Marker3D" parent="EscapepodMesh"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.233261, 0.834548)

[node name="PilotInterestPoint" type="Marker3D" parent="EscapepodMesh"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0380843, 0.168703, 0.638795)

[node name="LeftHandMarker" type="Marker3D" parent="EscapepodMesh"]
transform = Transform3D(0.38404, -0.615564, 1.01789, -1.10939, 0.200636, 0.539899, -0.429253, -1.06927, -0.484682, -0.335163, 0.211686, 1.3083)

[node name="RightHandMarker" type="Marker3D" parent="EscapepodMesh"]
transform = Transform3D(0.706199, 0.296036, -0.988001, 0.764089, 0.654128, 0.74215, 0.692786, -1.02322, 0.188597, 0.39168, 0.211423, 1.08202)

[node name="Player" parent="EscapepodMesh" instance=ExtResource("3_0iob3")]
transform = Transform3D(-1.25, 0, -1.88745e-07, 0, 1.25, 0, 1.88745e-07, 0, -1.25, -4.20801e-08, -0.0621179, 0.98934)

[node name="WaistLookAtModifier" type="LookAtModifier3D" parent="EscapepodMesh/Player/Armature/Skeleton3D" index="2"]
transform = Transform3D(1, 0, -1.42109e-14, 0, 1, 0, 1.42109e-14, 0, 1, 0, 0, 0)
influence = 0.25
target_node = NodePath("../../../../InterestPoint")
bone_name = "spine2"
bone = 2

[node name="ChestLookAtModifier" type="LookAtModifier3D" parent="EscapepodMesh/Player/Armature/Skeleton3D" index="3"]
transform = Transform3D(1, 0, -1.42109e-14, 0, 1, 0, 1.42109e-14, 0, 1, 0, 0, 0)
influence = 0.21
target_node = NodePath("../../../../InterestPoint")
bone_name = "spine3"
bone = 3

[node name="LeftHandIK" type="SkeletonIK3D" parent="EscapepodMesh/Player/Armature/Skeleton3D" index="4"]
root_bone = &"upper_arm.l"
tip_bone = &"hand.l"
use_magnet = true
magnet = Vector3(0, -0.1, -0.48)
target_node = NodePath("../../../../LeftHandMarker")
script = ExtResource("4_4b75m")

[node name="RightHandIK" type="SkeletonIK3D" parent="EscapepodMesh/Player/Armature/Skeleton3D" index="5"]
root_bone = &"upper_arm.r"
tip_bone = &"hand.r"
target_node = NodePath("../../../../RightHandMarker")
script = ExtResource("4_4b75m")

[node name="HeadAttachment" type="BoneAttachment3D" parent="EscapepodMesh/Player/Armature/Skeleton3D" index="6"]
transform = Transform3D(1, -7.00344e-08, 6.28955e-08, 9.35676e-08, 0.812553, -0.582888, -1.02837e-08, 0.582888, 0.812553, -2.67427e-08, 1.47281, 0.276469)
bone_name = "head"
bone_idx = 5

[node name="RemoteHead" type="RemoteTransform3D" parent="EscapepodMesh/Player/Armature/Skeleton3D/HeadAttachment"]
remote_path = NodePath("../../../../../PlayerSizeReference/Head")
update_rotation = false
update_scale = false

[node name="AnimationPlayer" parent="EscapepodMesh/Player" index="1"]
autoplay = "lying"

[node name="PlayerSizeReference" type="CharacterBody3D" parent="EscapepodMesh"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.553955, 1.47068)

[node name="Head" type="Node3D" parent="EscapepodMesh/PlayerSizeReference"]
transform = Transform3D(-1.25, 1.8499e-07, -1.00326e-06, 8.2375e-07, 0.908199, -0.85888, 6.0182e-07, -0.85888, -0.908199, -6.08337e-08, 2.33285, -0.826926)

[node name="Camera3D" type="Camera3D" parent="EscapepodMesh/PlayerSizeReference/Head" node_paths=PackedStringArray("Player", "radarBeepSnd", "podObj")]
transform = Transform3D(-0.8, 1.10419e-06, 5.32896e-07, 7.73739e-07, 0.72441, -0.339455, -9.51072e-07, -0.339455, -0.72441, 1.90604e-07, -0.00793678, 0.00242758)
script = ExtResource("2_q68mp")
Player = NodePath("../..")
radarBeepSnd = NodePath("RadarBeep")
podObj = NodePath("../../..")

[node name="RadarBeep" type="AudioStreamPlayer3D" parent="EscapepodMesh/PlayerSizeReference/Head/Camera3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.0837, 0)
stream = ExtResource("3_f140w")
volume_db = -13.0
max_polyphony = 3

[node name="CollisionShape3D" type="CollisionShape3D" parent="EscapepodMesh/PlayerSizeReference"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.494186, 0)
shape = SubResource("CapsuleShape3D_x4av3")

[node name="CanvasLayer" type="CanvasLayer" parent="EscapepodMesh/PlayerSizeReference"]

[node name="Cursor" type="TextureRect" parent="EscapepodMesh/PlayerSizeReference/CanvasLayer"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -2.0
offset_top = -2.0
offset_right = 2.0
offset_bottom = 2.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 4
size_flags_vertical = 4
texture = ExtResource("4_0iob3")

[node name="BackgroundIdleSnd" type="AudioStreamPlayer3D" parent="EscapepodMesh/PlayerSizeReference"]
stream = ExtResource("5_4b75m")
volume_db = -12.157
autoplay = true
max_polyphony = 3

[node name="ButtonUp" type="Node3D" parent="EscapepodMesh"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 2.33935, -0.312264, 2.66959)

[node name="CSGBox3D8" type="CSGBox3D" parent="EscapepodMesh/ButtonUp"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.57224, 1.39526, 2.02048)
use_collision = true
size = Vector3(0.214142, 0.169594, 0.0492986)

[node name="CSGBox3D9" type="CSGBox3D" parent="EscapepodMesh/ButtonUp"]
transform = Transform3D(1, 0, 0, 0, 0.805194, 0.593011, 0, -0.593011, 0.805194, -1.57224, 1.45861, 2.04085)
use_collision = true
size = Vector3(0.214142, 0.120564, 0.0492986)

[node name="CSGBox3D10" type="CSGBox3D" parent="EscapepodMesh/ButtonUp"]
transform = Transform3D(1, 0, 0, 0, 0.790262, -0.612769, 0, 0.612769, 0.790262, -1.57224, 1.44965, 1.98755)
use_collision = true
size = Vector3(0.214142, 0.0983067, 0.0492986)

[node name="Area3D" type="Area3D" parent="EscapepodMesh/ButtonUp" groups=["Up"]]
collision_layer = 2

[node name="CollisionShape3D" type="CollisionShape3D" parent="EscapepodMesh/ButtonUp/Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.51931, 1.41697, 2.01809)
shape = SubResource("BoxShape3D_a814b")

[node name="ButtonDown" type="Node3D" parent="EscapepodMesh"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 2.33935, -0.312264, 2.66959)

[node name="CSGBox3D11" type="CSGBox3D" parent="EscapepodMesh/ButtonDown"]
transform = Transform3D(1, 0, 0, 0, -0.999836, -0.018098, 0, 0.018098, -0.999836, -1.57224, 1.15218, 2.0114)
use_collision = true
size = Vector3(0.214142, 0.169594, 0.0492986)

[node name="CSGBox3D12" type="CSGBox3D" parent="EscapepodMesh/ButtonDown"]
transform = Transform3D(0.99984, 0.0142095, 0.0108671, 0.0178887, -0.794203, -0.607389, 0, 0.607487, -0.79433, -1.57224, 1.08847, 1.99218)
use_collision = true
size = Vector3(0.214142, 0.120564, 0.0492986)

[node name="CSGBox3D13" type="CSGBox3D" parent="EscapepodMesh/ButtonDown"]
transform = Transform3D(1, 0, 0, 0, -0.801223, 0.598366, 0, -0.598366, -0.801223, -1.57224, 1.0984, 2.04531)
use_collision = true
size = Vector3(0.214142, 0.0983067, 0.0492986)

[node name="Area3D" type="Area3D" parent="EscapepodMesh/ButtonDown" groups=["Down"]]
collision_layer = 2

[node name="CollisionShape3D" type="CollisionShape3D" parent="EscapepodMesh/ButtonDown/Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.4784, 1.12697, 2.01738)
shape = SubResource("BoxShape3D_5crlr")

[node name="ButtonLeft" type="Node3D" parent="EscapepodMesh"]
transform = Transform3D(-4.37114e-08, 0.999, -0.0447006, 0, 0.0447006, 0.999, 1, 4.36677e-08, -1.95392e-09, -0.881956, -1.1006, 2.66959)

[node name="CSGBox3D11" type="CSGBox3D" parent="EscapepodMesh/ButtonLeft"]
transform = Transform3D(1, 0, 0, 0, -0.999836, -0.018098, 0, 0.018098, -0.999836, -1.57224, 1.15218, 2.0114)
use_collision = true
size = Vector3(0.214142, 0.169594, 0.0492986)

[node name="CSGBox3D12" type="CSGBox3D" parent="EscapepodMesh/ButtonLeft"]
transform = Transform3D(0.99984, 0.0142095, 0.0108671, 0.0178887, -0.794203, -0.607389, 0, 0.607487, -0.79433, -1.57224, 1.08847, 1.99218)
use_collision = true
size = Vector3(0.214142, 0.120564, 0.0492986)

[node name="CSGBox3D13" type="CSGBox3D" parent="EscapepodMesh/ButtonLeft"]
transform = Transform3D(1, 0, 0, 0, -0.801223, 0.598366, 0, -0.598366, -0.801223, -1.57224, 1.0984, 2.04531)
use_collision = true
size = Vector3(0.214142, 0.0983067, 0.0492986)

[node name="Area3D" type="Area3D" parent="EscapepodMesh/ButtonLeft" groups=["Left"]]
collision_layer = 2

[node name="CollisionShape3D" type="CollisionShape3D" parent="EscapepodMesh/ButtonLeft/Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.52237, 1.1219, 2.00408)
shape = SubResource("BoxShape3D_hbc2u")

[node name="ButtonRight" type="Node3D" parent="EscapepodMesh"]
transform = Transform3D(-4.37114e-08, -0.999948, -0.010172, 0, 0.010172, -0.999948, 1, -4.37091e-08, -4.44633e-10, 1.64457, 2.95342, 2.66959)

[node name="CSGBox3D11" type="CSGBox3D" parent="EscapepodMesh/ButtonRight"]
transform = Transform3D(1, 0, 0, 0, -0.999836, -0.018098, 0, 0.018098, -0.999836, -1.57224, 1.15218, 2.0114)
use_collision = true
size = Vector3(0.214142, 0.169594, 0.0492986)

[node name="CSGBox3D12" type="CSGBox3D" parent="EscapepodMesh/ButtonRight"]
transform = Transform3D(0.99984, 0.0142095, 0.0108671, 0.0178887, -0.794203, -0.607389, 0, 0.607487, -0.79433, -1.57224, 1.08847, 1.99218)
use_collision = true
size = Vector3(0.214142, 0.120564, 0.0492986)

[node name="CSGBox3D13" type="CSGBox3D" parent="EscapepodMesh/ButtonRight"]
transform = Transform3D(1, 0, 0, 0, -0.801223, 0.598366, 0, -0.598366, -0.801223, -1.57224, 1.0984, 2.04531)
use_collision = true
size = Vector3(0.214142, 0.0983067, 0.0492986)

[node name="Area3D" type="Area3D" parent="EscapepodMesh/ButtonRight" groups=["Right"]]
collision_layer = 2

[node name="CollisionShape3D" type="CollisionShape3D" parent="EscapepodMesh/ButtonRight/Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.5784, 1.12408, 2.01652)
shape = SubResource("BoxShape3D_torvr")

[node name="MineHurtBox" type="Area3D" parent="EscapepodMesh"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="EscapepodMesh/MineHurtBox"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.51947, 1.47339, 0.132568)
shape = SubResource("BoxShape3D_8xkvn")

[node name="MineTest2" type="Node3D" parent="." groups=["MineObj"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 32.6526, 0)
script = ExtResource("6_8ju71")

[node name="MineMesh" type="MeshInstance3D" parent="MineTest2"]
transform = Transform3D(4.45896, 0, 0, 0, 4.74957, 0, 0, 0, 5.81016, 0, 0.0442162, 0)
mesh = SubResource("SphereMesh_rpqi1")
skeleton = NodePath("")

[node name="Area3D" type="Area3D" parent="MineTest2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.357544, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="MineTest2/Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.219616, 0)
shape = SubResource("SphereShape3D_uxrcv")

[connection signal="area_shape_entered" from="EscapepodMesh/MineHurtBox" to="EscapepodMesh/PlayerSizeReference/Head/Camera3D" method="_on_mine_hurt_box_area_shape_entered"]

[editable path="EscapepodMesh/PilotV2"]
[editable path="EscapepodMesh/Player"]
